(()=>{const e=document.getElementById("videoContainer"),t=document.getElementById("commentForm");t&&t.addEventListener("submit",(async n=>{n.preventDefault();const o=t.querySelector("textarea"),a=o.value,c=e.dataset.id;if(""===a)return;const{status:m}=await fetch(`/api/videos/${c}/comment`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:a})});o.value="",201===m&&(e=>{const t=document.querySelector(".video__comments ul"),n=document.createElement("li");n.className="video__comment";const o=document.createElement("i");o.className="fas fa-comment";const a=document.createElement("span");a.innerText=` ${e}`,n.appendChild(o),n.appendChild(a),t.prepend(n)})(a)}))})();