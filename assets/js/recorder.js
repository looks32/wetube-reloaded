(()=>{const e=document.getElementById("startBtn"),t=document.getElementById("preview");let n,c,d;const i=()=>{const e=document.createElement("a");e.href=d,e.download="MyRecording.webm",document.body.appendChild(e),e.click()},a=()=>{e.innerText="Download Recording",e.removeEventListener("click",a),e.addEventListener("click",i),c.stop()},o=()=>{e.innerText="Stop Recording",e.removeEventListener("click",o),e.addEventListener("click",a),c=new window.MediaRecorder(n,{mimeType:"video/webm"}),c.ondataavailable=e=>{d=URL.createObjectURL(e.data),t.srcObject=null,t.src=d,t.loop=!0,t.play()},c.start()};(async()=>{n=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0}),t.srcObject=n,t.play()})(),e.addEventListener("click",o)})();